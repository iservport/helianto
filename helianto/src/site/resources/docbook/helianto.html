<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Helianto project</title><link xmlns="" href="styles/html/acegi.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.67.2" name="generator" /></head><body><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a id="N10002" />Helianto project</h1></div><div><h2 class="subtitle">Reference Documentation</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Maur&iacute;cio</span> <span class="surname">Fernandes de Castro</span></h3></div></div></div><div><p class="releaseinfo">0.0.1-20060403</p></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="#preface">Preface</a></span></dt><dt><span class="chapter"><a href="#helianto">1. The Helianto Project</a></span></dt><dd><dl><dt><span class="sect1"><a href="#helianto-introduction">1.1. Introduction</a></span></dt><dd><dl><dt><span =""><a href="#helianto-introduction-mission">1.1.1. Mission</a></span></dt><dt><span class="sect2"><a href="#helianto-introduction-acknowledgements">1.1.2. Acknowledgements</a></span></dt><dt><span class="sect2"><a href="#helianto-introduction-alternatives">1.1.3. Alternatives</a></span></dt><dt><span class="sect2"><a href="#helianto-introduction-requirements">1.1.4. Software Requirements</a></span></dt></dl></dd><dt><span class="sect1"><a href="#helianto-arch">1.2. Architecture</a></span></dt><dt><span class="sect1"><a href="#helianto-core">1.3. Core functionality</a></span></dt><dd><dl><dt><span =""><a href="#helianto-core-overview">1.3.1. Overview</a></span></dt><dt><span class="sect2"><a href="#helianto-core-config">1.3.2. Basic configuration</a></span></dt><dt><span class="sect2"><a href="#helianto-core-pkg-ov">1.3.3. 
					The
					<code class="literal">helianto-core</code>
					package
				</a></span></dt><dt><span class="sect2"><a href="#helianto-core-credential">1.3.4. The Credential domain object</a></span></dt><dt><span class="sect2"><a href="#helianto-core-entity">1.3.5. The Entity domain object</a></span></dt><dt><span class="sect2"><a href="#helianto-core-user">1.3.6. The User domain object</a></span></dt><dt><span class="sect2"><a href="#helianto-core-dao">1.3.7. Generic DAO</a></span></dt></dl></dd><dt><span class="sect1"><a href="#helianto-process">1.4. Process functionality</a></span></dt><dd><dl><dt><span =""><a href="#helianto-process-overview">1.4.1. 
					The
					<code class="literal">helianto-process</code>
					package
				</a></span></dt><dt><span class="sect2"><a href="#helianto-process-domain">1.4.2. The Process domain model</a></span></dt></dl></dd><dt><span class="sect1"><a href="#helianto-product">1.5. Product functionality</a></span></dt><dd><dl><dt><span =""><a href="#helianto-product-abstract">1.5.1. 
					The
					<code class="literal">helianto-product</code>
					package
				</a></span></dt><dt><span class="sect2"><a href="#helianto-product-domain">1.5.2. The Product domain model</a></span></dt></dl></dd><dt><span class="sect1"><a href="#helianto-fac">1.6. Finance and accountability functionality</a></span></dt><dt><span class="sect1"><a href="#helianto-access">1.7. 
				A template application including access control
			</a></span></dt></dl></dd><dt><span class="chapter"><a href="#appendices">2. Apendices</a></span></dt><dd><dl><dt><span class="sect1"><a href="#helianto-orm">2.1. 
				Appendix A - Hibernate and Object relational mapping
				(ORM)
			</a></span></dt><dt><span class="sect1"><a href="#helianto-di">2.2. 
				Appendix B - Spring Framework and Dependency injection
			</a></span></dt><dt><span class="sect1"><a href="#helianto-security">2.3. Appendix C - Acegi Security</a></span></dt><dd><dl><dt><span =""><a href="#helianto-security-objects">2.3.1. Security object</a></span></dt></dl></dd></dl></dd></dl></div><div class="preface" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="preface" />Preface</h2></div></div></div><p>
			The Helianto Project was born after a discussion on how to
			leverage the competitive advantage of a small group of small
			organizations having different competences in the sotware
			business. The key value behind the Helianto mission
			development was to promote collaboration in disciplines
			where all members might have common requirements.
		</p><p>
			The name "Helianto" derives from the latin word for the
			sunflower plant. The idea showed up from an original sketch,
			where a couple of functional modules were drawn in a central
			corolla, surrounded by as many application "petals" as
			desired. The name still remains associated to the sunflower
			geometry, although the project focuses only the corolla.
		</p><p>
			Helianto is not meant to be a product to be used out of the
			box. Actually, it requires customization and some expertise
			in object oriented programming to become a productivity
			tool. It strongly relies on
			<code class="literal">Spring framework</code>
			to achieve the majority of its goals. Those who are familiar
			with Spring's concepts like dependency injection and aspect
			orientation will be more comfortable here. And those who are
			not, will find at Helianto a fast and convenient learning
			path.
		</p><p>
			At last, Helianto gained an inital momentum to become an
			open source project when the possibilities arround the
			"corolla" outnumbered the original group expectations. Since
			then, Helianto is distributed under the "Apache License v.
			2.0".
		</p><p>
			Currently, Helianto has a work in progress status. This
			document is currently in the process of being written, so
			not all topics are covered. Contributions are welcome.
		</p></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="helianto" />Chapter&nbsp;1.&nbsp;The Helianto Project</h2></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-introduction" />1.1.&nbsp;Introduction</h2></div></div></div><p>
				Helianto tries to capture common project issues and
				combine it with sound project pratices. Many designers
				need to model entities like customers or suppliers,
				payables and receivables, and so forth. Helianto
				provides extensible domain and service classes for them.
				Many designers have a growing interest on ORM. Helianto
				provides basic configuration for Spring and Hibernate to
				achieve this, as well as the corresponding OR mapping
				for the supplied domain classes. Many designers would
				refactor the code to reduce coupling. Helianto enforces
				the use of dependency injection. Some have realized EJB
				is too complex and will find here how to keep
				declarative transaction management simple. Some would
				like to benefit from a non invasive security framework.
				Helianto provides configuration and a template for a
				secure web application using Acegi Security.
			</p><p>
				Helianto strongly relies on Spring to achieve all of
				this. It also embeds a couple of design decisions that
				narrow the power of Spring. It is a trade off. In one
				hand, you have to follow a pre-configured application,
				but in the other, you may get ready shortly.
			</p><p>
				The key values to develop Helianto classes and resources
				is to keep wide scope and flexibility to ease
				composition or extension.
			</p><p>In a tipical use case, the Helianto user would:</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
						add the helianto*.jar packages to the
						application classpath,
					</p></li><li><p>
						create the presentation layer to invoke the
						supplied service layer,
					</p></li><li><p>
						customize the jdbc connection through the
						hibernate.properties file,
					</p></li><li><p>test and deploy the appllication. .</p></li></ul></div><p>
				If the application requirements become more specific,
				the user would also have to create or extend domain
				classes, map them to the persistence layer, create or
				extend service facades and wire them to the dependency
				injection container registry.
			</p><p>
				Throughout this document, many of the aspects of such
				customization will be described in deeper detail. See
				the appendices for a brief conceptual introduction along
				for some of the collaborating open source packages.
			</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-introduction-mission" />1.1.1.&nbsp;Mission</h3></div></div></div><p>
					Continuously develop an application base framework
					that:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							is as decoupled as possible from the
							presentation layer, allowing the desired
							customization to expose service and
							persistence layers that fits best its
							purpose,
						</p></li><li><p>
							provides an extensible and flexible service
							layer to accomodate both simple and complex
							project requirements, either beeing
							partially implemented or extended through
							the customization,
						</p></li><li><p>
							concurrently provides a common domain model
							to solve well known business problems and a
							persistence layer as decoupled as possible
							from the datastore, and
						</p></li><li><p>
							enforces good programming practices like
							design patterns usage, rich documentation
							and extensive testing.
						</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-introduction-acknowledgements" />1.1.2.&nbsp;Acknowledgements</h3></div></div></div><p>
					The Helianto project includes software developed by
					the Apache Software Foundation
					(http://www.apache.org), the Spring Framework
					Project (http://www.springframework.org) and the
					Acegi Security System for Spring Project
					(http://acegisecurity.sourceforge.net). It also
					includes software from Hibernate
					(http://www.hibernate.org).
				</p><p>
					It is virtually impossible to say thank you to all
					the people who contributed in some way to the
					current state of this project. Many of them are
					project leaders of the packages mentioned above.
					
				</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-introduction-alternatives" />1.1.3.&nbsp;Alternatives</h3></div></div></div><p>
					As stated before, the Helianto project is not meant
					to be used out of the box. This is primarily because
					the presentation layer is not part of the project
					mission. Other projects, like AppFuse
					(http://appfuse.dev.java.net) or Java Application
					Generator (http://jag.sourceforge.net) provide a
					more comprehensive support for a full architecture.
				</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-introduction-requirements" />1.1.4.&nbsp;Software Requirements</h3></div></div></div><p>
					The source code includes generics and enumerators,
					therefore a jdk 1.5 or higher is required.
				</p><p>
					Eclipse platform and the appropriate plugins as well
					as Apache Maven are recomended, although not
					required. Of course, there are many dependencies
					listed in the pom files, and Maven will help to have
					them ready to use.
				</p><p>
					Any sql database can be used as long as the
					appropriate properties are set in
					hibernate.properties at src/main/resources/.
				</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-arch" />1.2.&nbsp;Architecture</h2></div></div></div><p>
				<div class="mediaobject" align="center"><img src="images/arch.png" align="middle" /><div class="caption"><p>Figure 2: Architecture.</p></div></div>
			</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-core" />1.3.&nbsp;Core functionality</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-overview" />1.3.1.&nbsp;Overview</h3></div></div></div><p>
					The core module has two major responsibilities:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>hold the configuration, and</p></li><li><p>
							implement a basic domain model and services.
						</p></li></ul></div><p>
					All the configuration is declarative, mostly in the
					form of xml files, and will be explained in the next
					section.
				</p><p>
					The basic domain model comprehends user and entity
					relationship. It is designed to be as flexible as
					possible to accomodate both, a single user in a
					small organization and multiple identities beeing
					shared across an internet distributed application.
				</p><p>
					The entity is a key domain object. Its
					responsibility is to isolate information from one
					business unit from another, like accounting or
					maintenance data. In this sense, an entity may be a
					whole organization, part of one organization or even
					a group of organizations. The application extending
					Helianto may choose any of such approaches.
				</p><p>
					As an immediate consequence, the domain model has
					finer granularity and delegates to the service layer
					the job of exposing simple and complex service
					methods. For example, there is a method to create a
					user and associate it by default to an entity. But
					there also is a method to create a credential to be
					supplied in a further operation that creates a user
					for a selected entity.
				</p><p>
					There is also a topic to be examined. It is
					sometimes desirable to share specifc information
					accross multiple entities. Customers would
					eventually like to share product data (at their
					discretion) with suppliers. Helianto is designed to
					create partners either as domain objects local to an
					entity, designated as "weak" relationships, or as
					entities themselves in a so called "strong"
					relationship. Also, weak partners can be converted
					to strong partners.
				</p><p>
					In order to accomplish this, helianto core module
					relies on several packages:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							org.helianto.core: basic domain objects,
						</p></li><li><p>
							org.helianto.core.dao: a set of common dao
							interfaces,
						</p></li><li><p>
							org.helianto.core.hibernate: an Hibernate
							implementation for the common dao
							interfaces,
						</p></li><li><p>
							org.helianto.core.junit: extra test support,
						</p></li><li><p>
							org.helianto.core.mail: mail notification
							support,
						</p></li><li><p>
							org.helianto.core.security: Acegi Security
							support, and
						</p></li><li><p>
							org.helianto.core.service: transactional
							core service layer,
						</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-config" />1.3.2.&nbsp;Basic configuration</h3></div></div></div><p>[Pending]</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-pkg-ov" />1.3.3.&nbsp;
					The
					<code class="literal">helianto-core</code>
					package
				</h3></div></div></div><p>
					The
					<code class="literal">helianto-core</code>
					package plays the major role for Helianto
					funcionality:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							support basic Spring, Hibernate and Acegi
							configuration, wired togheter to provide
							common functionality to all other modules,
						</p></li><li><p>
							fully implement the persistence layer,
							exposing a standardized dao interface,
						</p></li><li><p>
							provide for multiple entity resolution, as
							entities may be organizations, personal
							owners, customers, suppliers, and so forth,
						</p></li><li><p>implement user identity,</p></li><li><p>
							allow for hierarchical authorization
							control, follwing the chain: supervisor -&gt;
							administrator -&gt; moderator -&gt; user, and
						</p></li><li><p>
							provide for standard event notification.
						</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-credential" />1.3.4.&nbsp;The Credential domain object</h3></div></div></div><p>
					A
					<code class="literal">Credential</code>
					provides the security system with authentication
					information.
				</p><p>
					A
					<code class="literal">Credential</code>
					is usually a person, but it may represent also a
					non-personal identity. A
					<code class="literal">Credential</code>
					is required for a person to be recognized by the
					system. The core domain model is designed to have a
					<code class="literal">Credential</code>
					playing different roles, even for different
					entities.
				</p><p>
					<div class="mediaobject" align="center"><img src="images/credential.png" align="middle" /><div class="caption"><p>Credential and personal data.</p></div></div>
				</p><p>
					A
					<code class="literal">Credential</code>
					must have a principal to be uniquely identified. The
					preferred way to supply a
					<code class="literal">Credential</code>
					with a globally unique principal is the e-mail
					address. A non-addressable principal may be used if
					the
					<code class="literal">Credential</code>
					is related to a parent having an addressable
					principal, or in a chain, up to at least one
					addressable principal.
				</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-entity" />1.3.5.&nbsp;The Entity domain object</h3></div></div></div><p>
					Helianto core functionality relies on the
					<code class="literal">Entity</code>
					abstraction. It represents the root for several
					hierarchies, for example, all users or all processes
					of an
					<code class="literal">Entity</code>
					. It may represent either an organization or part of
					an organization, that is in control of such
					hierarchies.
				</p><p>
					The
					<code class="literal">Entity</code>
					has a simple interface to allow easy extension. Its
					primary responsibility is to grant read-write access
					to the
					<code class="literal">alias : String [20]</code>
					property, which is implemented as unique in a
					datastore.
				</p><p>
					<div class="mediaobject" align="center"><img src="images/entity.png" align="middle" /><div class="caption"><p>Entity model.</p></div></div>
				</p><p>
					Each
					<code class="literal">Entity</code>
					must recognize its own
					<code class="literal">Home</code>
					property.
				</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-user" />1.3.6.&nbsp;The User domain object</h3></div></div></div><p>
					A
					<code class="literal">User</code>
					represents the relationship between a
					<code class="literal">Credential</code>
					and an
					<code class="literal">Entity</code>
					. It is the mechanism used by a person, or any other
					identity, to have granted authorization to play a
					<code class="literal">Role</code>
					within an
					<code class="literal">Entity</code>
					.
				</p><p>
					<div class="mediaobject" align="center"><img src="images/user.png" align="middle" /><div class="caption"><p>User model.</p></div></div>
				</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-core-dao" />1.3.7.&nbsp;Generic DAO</h3></div></div></div><p>[Pending]</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-process" />1.4.&nbsp;Process functionality</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-process-overview" />1.4.1.&nbsp;
					The
					<code class="literal">helianto-process</code>
					package
				</h3></div></div></div><p>
					The
					<code class="literal">helianto-process</code>
					package, as the name suggests, introduces a
					comprehensive process approach to Helianto.
					Processes may be taken as organizational or
					production, and may be related to parts, products or
					other processes. The module responsibilities are:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							provide a base class,
							<code class="literal">Document</code>
							, to be root for all process components,
							allowing for polimorphism among parts,
							products, processes and operations,
						</p></li><li><p>
							provide product and process trees, and
							services to maintain them,
						</p></li><li><p>
							provide manufacturing specific domain and
							services,
						</p></li><li><p>
							provide base classes for resource
							management.
						</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-process-domain" />1.4.2.&nbsp;The Process domain model</h3></div></div></div><p>
					<div class="mediaobject" align="center"><img src="images/document.png" align="middle" /><div class="caption"><p>Document association.</p></div></div>
				</p><p>
					<div class="mediaobject" align="center"><img src="images/process.png" align="middle" /><div class="caption"><p>Document hierarchy.</p></div></div>
				</p><p>[Pending]</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-product" />1.5.&nbsp;Product functionality</h2></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-product-abstract" />1.5.1.&nbsp;
					The
					<code class="literal">helianto-product</code>
					package
				</h3></div></div></div><p>
					The
					<code class="literal">helianto-product</code>
					package is designed to provide product and price information to
					processes. The module responsibilities are:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							handle,
							<code class="literal">Proposal</code>
							s and
							<code class="literal">Price</code>
							list,
						</p></li><li><p>
							provide services to calculate prices.
						</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-product-domain" />1.5.2.&nbsp;The Product domain model</h3></div></div></div><p>[Pending]</p></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-fac" />1.6.&nbsp;Finance and accountability functionality</h2></div></div></div><p>[pending]</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-access" />1.7.&nbsp;
				A template application including access control
			</h2></div></div></div><p>[pending]</p></div></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="appendices" />Chapter&nbsp;2.&nbsp;Apendices</h2></div></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-orm" />2.1.&nbsp;
				Appendix A - Hibernate and Object relational mapping
				(ORM)
			</h2></div></div></div><p>
				Object relational frameworks' primary job is to hide the
				relational mechanics of SQL databases behind a graph of
				in memory object instances. Database records are
				inserted, update or deleted after object state
				transitions and the developer is no longer required to
				issue SQL statements directly.
			</p><p>
				Hibernate (www.hibernate.org) is the current ORM choice
				for the Helianto project, but there is no restriction in
				the code to future adoptions of an alternative approach,
				like Oracle's Top Link or any implementation of JDO.
			</p><p>
				This appendix will explain, in short, some fundamentals
				of Hibernate. For further clarification, please, see the
				Hibernate documentation.
			</p><p>
				As SQL code is decoupled from the application code, it
				is possible to easily switch database vendors. Doing
				this, in Hibernate (and Helianto), is a matter of
				configuration. See the chapter "Configuration" on this
				guide for detailed instructions on how to change the
				hibernate.properties file.
			</p><p>
				Hibernate's key abstraction lies in the Session
				interface. A session represents a basic unit of work and
				should be fully understood by developers extending the
				<code class="literal">org.helianto.core.GenericDao</code>
				implemetations.
			</p><p>A good start comes from the Session java docs:</p><div class="blockquote"><blockquote class="blockquote"><p>
					The main function of the Session is to offer create,
					read and delete operations for instances of mapped
					entity classes.
				</p></blockquote></div><p>
				As the above term
				<code class="literal">mapped entity</code>
				suggests, some sort of mapping is required to accomodate
				relational and object oriented perspectives togheter. Of
				course, only mapped entities can be made persistent.
			</p><p>
				By the mapping, in the form of a xml file, Hibernate
				knows how an instance is associated to a database table.
				Here is a sample:
			</p><p>
				<pre class="programlisting">
					
&lt;hibernate-mapping default-lazy="false"&gt;
	&lt;class table="core_credential" 
		name="org.helianto.core.Credential"&gt;
		&lt;!-- 
				CREDENTIAL
				============================================= 
		--&gt;
		&lt;!-- 
  				id
		--&gt;
		&lt;id name="id" type="long"&gt;
			&lt;generator class="native"/&gt;
		&lt;/id&gt;
		&lt;!-- 
				principal
		--&gt;
		&lt;property name="principal" type="string"&gt;
			&lt;meta attribute="use-in-equals"&gt;true&lt;/meta&gt;
			&lt;column name="principal" length="64" not-null="true" 
				unique="true"/&gt;
		&lt;/property&gt;
		&lt;!-- 
				password
		--&gt;
		&lt;property name="password" type="string" length="20"/&gt;
...
						
				</pre>
			</p><p>
				The above listing requires two other artifacs to work
				with:
			</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
						a table named
						<code class="literal">core_credential</code>
						in the database, with fields
						<code class="literal">id</code>
						,
						<code class="literal">principal</code>
						,
						<code class="literal">password</code>
						and other (ommited),
					</p></li><li><p>
						a serializable POJO class
						<code class="literal">org.helianto.core.Credential</code>
						with fields
						<code class="literal">id</code>
						,
						<code class="literal">principal</code>
						,
						<code class="literal">password</code>
						and other (ommited), and corresponding getters
						and setters following the Java Beans convention
						like
						<code class="literal">long getId()</code>
						,
						<code class="literal">setId(long id)</code>
						,
						<code class="literal">String getPrincipal()</code>
						,
						<code class="literal">
							setPrincipal(String principal)
						</code>
						,
						<code class="literal">String getPassword()</code>
						,
						<code class="literal">setPassword(String password)</code>
						, etc.
					</p></li></ul></div><p>
				There are many strategies to obtain a concise set of
				such artifacts. The choice made in Helianto is known as
				<code class="literal">middle-out</code>
				, where the developer is responsible for the mapping
				file construction and the framework does its job by
				automatically generating the POJO's and updating the
				database schema accordingly.
			</p><p>
				Mapped entities instances may exist in one of three
				states:
			</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
						transient: never persistent, not associated with
						any Session,
					</p></li><li><p>
						persistent: associated with a unique Session,
					</p></li><li><p>
						detached: previously persistent, not associated
						with any Session.
					</p></li></ul></div><p>
				The following state diagram tries to capture the
				possible transitions among such states.
			</p><p>
				<div class="mediaobject" align="center"><img src="images/hibernateSession.png" align="middle" /><div class="caption"><p>
							Hibernate Session and Mapped Entities
							States.
						</p></div></div>
			</p><p>
				After a session flush, the mapped entities are
				synchronized with database. Previous
				<code class="literal">save()</code>
				and
				<code class="literal">persist()</code>
				transitions result in an SQL INSERT,
				<code class="literal">delete()</code>
				in an SQL DELETE and
				<code class="literal">update()</code>
				or
				<code class="literal">merge()</code>
				in an SQL UPDATE.
			</p><p>
				Please, see the Hibernate documentation for further
				details.
			</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-di" />2.2.&nbsp;
				Appendix B - Spring Framework and Dependency injection
			</h2></div></div></div><p>
				First thing to say about dependency injection is that it
				is not invasive. It does not require your code to
				inherit state or behaviour from some class, or to
				implement any particular interface. It also means that
				you wil not have to take things away from your code if
				you decide you had enough from it, and will now follow
				the next buzzword framework.
			</p><p>
				The action may start just after two minor adjustments
				arround your code, or even, arround legacy code:
			</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
						at design time, you choose the objects to
						instantiate (and how they collaborate) in a
						declarative fashion,
					</p></li><li><p>
						at run time, an IoC container takes first the
						control of the program flow, and uses the
						declared configuration to actually instantiate
						the objects.
					</p></li></ul></div><p>
				The application logic may then follow, with or without
				additional collaboration from the container.
			</p><p>
				For those who are still asking what benefits a container
				to jumpstart the application may bring, let's say that:
			</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
						less coupling means less plumbing or glue code,
						so you are free to focus on the business,
					</p></li><li><p>
						dependencies become explicit and away of the
						code, a good reason to follow the well known
						best pratice "program to an interface, not to
						the implementation",
					</p></li><li><p>
						test driven development becomes easier, and
					</p></li><li><p>
						dependency injection containers are lightweight.
					</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="helianto-security" />2.3.&nbsp;Appendix C - Acegi Security</h2></div></div></div><p>
				The helianto project relies on the
				<code class="literal">Acegi-security for Spring</code>
				package to provide user authentication and
				authorization. The following sections have a restricted
				view of some main objects and concepts, while the Acegi
				web site documentation is comprehensive and recommended
				for those who look for deeper understanding.
			</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="helianto-security-objects" />2.3.1.&nbsp;Security object</h3></div></div></div><p>
					The security object plays a major role inside
					<code class="literal">Acegi-security for Spring</code>
					package as it coordinates the transitions required
					to secure an object. For the purposes of this
					document, the
					<code class="literal">FilterInvocation</code>
					security object is examined, and how it enables HTTP
					resources to be secured.
				</p><p>
					<div class="mediaobject" align="center"><img src="images/securityFlow.png" align="middle" /><div class="caption"><p>
								Figure 1: The security transitions.
							</p></div></div>
				</p><p>
					The security interceptor has some important
					collaborators with distinct responsibilities:
				</p><div class="itemizedlist"><ul type="disc" compact="compact"><li><p>
							An
							<code class="literal">Authentication</code>
							object to hold the username, password and
							the authorities granted to the user.
						</p></li><li><p>
							A
							<code class="literal">ContextHolder</code>
							which holds the
							<code class="literal">Authentication</code>
							object in a
							<code class="literal">ThreadLocal</code>
							-bound object.
						</p></li><li><p>
							An
							<code class="literal">AuthenticationManager</code>
							to authenticate the
							<code class="literal">Authentication</code>
							object presented via the
							<code class="literal">ContextHolder</code>
							.
						</p></li></ul></div></div></div></div></div></body></html>